
@model TestAnalyser.Model.Questao
@using TestAnalyser.Model;
@using System.Web.Mvc;

@{
    ViewBag.Title = "Cadastrar Questões";
    Person person = ViewBag.Person;
}


@* Script para o funcionamento de adicionar e remover alternativas *@
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
    <style type="text/css">
        body {
            font-family: Arial;
            font-size: 10pt;
        }

        .error {
            color: red;
        }
    </style>

    <script type="text/javascript">
        //Total máximo de campos que você permitirá criar em seu site:
        var totalCampos = 9;

        //Não altere os valores abaixo, pois são variáveis controle;
        var iLoop = 1;
        var iCount = 0;
        var linhaAtual;


        function AddCampos(tipo = '') {
            var hidden1 = document.getElementById("hidden1");
            var hidden2 = document.getElementById("hidden2");

            //Executar apenas se houver possibilidade de inserção de novos campos:
            if (iCount < totalCampos) {

                //Limpar hidden1, para atualizar a lista dos campos que ainda estão vazios:
                hidden2.value = "";

                //Atualizando a lista dos campos que estão ocultos.
                //Essa lista ficará armazenada temporiariamente em hidden2;
                for (iLoop = 1; iLoop <= totalCampos; iLoop++) {
                    if (document.getElementById(tipo + "Alternativas" + iLoop).style.display == "none") {
                        if (hidden2.value == "") {
                            hidden2.value = tipo + "Alternativas" + iLoop;
                        } else {
                            hidden2.value += "," + tipo + "Alternativas" + iLoop;
                        }
                    }
                }
                //Quebrando a lista que foi armazenada em hidden2 em array:
                linhasOcultas = hidden2.value.split(",");

                if (linhasOcultas.length > 0) {
                    //Tornar visível o primeiro elemento de linhasOcultas:
                    document.getElementById(linhasOcultas[0]).style.display = "block"; iCount++;

                    //Acrescentando o índice zero a hidden1:
                    if (hidden1.value == "") {
                        hidden1.value = linhasOcultas[0];
                    } else {
                        hidden1.value += "," + linhasOcultas[0];
                    }
                }
            }
        }

        function RemoverCampos(id, tipo) {
            //Criando ponteiro para hidden1:
            var hidden1 = document.getElementById("hidden1");

            //Pegar o valor do campo que será excluído:
            var campoValor = document.getElementById(tipo + "Campo" + id).value;
            //Se o campo não tiver nenhum valor, atribuir a string: vazio:
            if (campoValor == "") {
                campoValor = "vazio";
            }

            if (confirm("O campo que contém o valor:\n» " + campoValor + "\nserá excluído!\n\nDeseja prosseguir?")) {
                document.getElementById(tipo + "Alternativas" + id).style.display = "none"; iCount--;

                //Removendo o valor de hidden1:
                if (hidden1.value.indexOf(tipo + "Alternativas" + id) != -1) {
                    hidden1.value = hidden1.value.replace(tipo + "Alternativas" + id, "");
                } else if (hidden1.value.indexOf(tipo + "Alternativas" + id + ",") == 0) {
                    hidden1.value = hidden1.value.replace(tipo + "Alternativas" + id + ",", "");
                } else {
                    hidden1.value = "";
                }
            }
        }
    </script>

</head>


<h2>Cadastrar Questoes</h2>
<div class="col-lg-12 tab-content">
    @*Abas para cada tipo de questão ...*@
    <br />
    <ul class="nav justify-content-center nav-pills nav-fill">
        <li id="SE" class="nav-item"><a class="borda" data-toggle="tab" href="#divSE">Simples-Escolha</a></li>
        <li id="ME" class="nav-item"><a class="borda" data-toggle="tab" href="#divME">Multripla-Escolha</a></li>
        <li id="VF" class="nav-item"><a class="borda" data-toggle="tab" href="#divVF">Verdadeiro Ou Falso</a></li>
        <li id="DT" class="nav-item"><a class="borda" data-toggle="tab" href="#divDT">Dissertativa</a></li>
    </ul>

    @*Cada DIV terá um tipo de questão que irá ser apresentado em tela...*@
    <br />
    <div id="divSE" class="tab-pane fade active show">
        <h5>Tipo: Simples-Escolha</h5>
        <br />
        <form class="form-horizontal" name="form1" id="formCadSE" method="post" action="@Url.Action("CadastrarSE", "CadastrarQuestoes")">
            @*<form name="form1" action="paginaPHPouASP" method="post">*@
            <div class="form-row">
                <div class="col-md-4">
                    <label for="AssuntoSE">Assunto</label>
                    <input type="text" class="form-control" id="Assunto" name="Assunto">
                </div>
                <div class="col-md-4">
                    <label for="Disciplinas">Disciplinas</label>
                    @Html.DropDownList("DisciplinaId", new SelectList(ViewBag.Disciplinas, "DisciplinaId", "Nome"), htmlAttributes: new { @class = "form-control" })
                </div>
            </div>
            <br />
            <div class="form-row">
                <div class="col-md-8">
                    <label for="EnunciadoSE">Enunciado</label>
                    <textarea class="form-control" id="Enunciado" name="Enunciado"></textarea>
                </div>
            </div>
            <br />
            <br />
            <div id="DivAlternativas">
                <script type="text/javascript">
                    //Escrevendo o código-fonte HTML e ocultando os campos criados:
                    for (iLoop = 1; iLoop <= totalCampos; iLoop++) {
                        document.write("<div class='' id='SEAlternativas" + iLoop + "' style='display:none'><input type='radio' id='Alternativas" + iLoop +
                            "' name='SEradio' /> <span id='Alternativas' > " + iLoop + ") <input class='col-md-6' type='text' id='SECampo" + iLoop + "' name='Alternativas" + iLoop +
                            "'> <input type='button' value='Remover' onclick='RemoverCampos(\"" + iLoop + "\",\"SE\")'></span></div>");
                    }
                </script>
                <br />
                <input type="button" value="Adicionar campos" onclick="AddCampos('SE')">
                <input type="text" name="hidden1" id="hidden1" hidden>
                <input type="hidden" name="hidden2" id="hidden2">
            </div>
            <br />
            <div class="form-row">
                <button witdh="50" id="btnSalvar" type="submit" class="btn btn-primary btn-sm">Salvar</button>
                @*<button witdh="50" title="Salvar" class="btn btn-primary btn-sm" onclick="SalvarSE()">Salvar</button>*@
            </div>
        </form>


    </div>

    <div id="divME" class="tab-pane fade">
        <h5>Tipo: Multipla-Escolha</h5>
        <br />
        <form class="form-horizontal" name="form1" id="formCadME" method="post" action="@Url.Action("CadastrarME", "CadastrarQuestoes")">
            <div class="form-row">
                <div class="col-md-4">
                    <label for="AssuntoME">Assunto</label>
                    <input type="text" class="form-control" id="AssuntoME">
                </div>
                <div class="col-md-4">
                    <label for="Disciplinas">Disciplinas</label>
                    @Html.DropDownList("DisciplinaId", new SelectList(ViewBag.Disciplinas, "DisciplinaId", "Nome"), htmlAttributes: new { @class = "form-control" })
                </div>
            </div>
            <br />
            <div class="form-row">
                <div class="col-md-8">
                    <label for="EnunciadoME">Enunciado</label>
                    <textarea class="form-control" id="EnunciadoME"></textarea>
                </div>
            </div>
            <br />
            <div class="form-row">
                <div class="col-md-8">
                    <div class="row">
                        <div class="col-md-1">
                            <label for="1">1)</label>
                        </div>
                        <div class="col-md-10">
                            <input class="form-control" type="text" id="MEcampo1">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-1">
                            <label for="2">2)</label>
                        </div>
                        <div class="col-md-10">
                            <input class="form-control" type="text" id="MEcampo2">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-1">
                            <label for="3">3)</label>
                        </div>
                        <div class="col-md-10">
                            <input class="form-control" type="text" id="MEcampo3">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-1">
                            <label for="4">4)</label>
                        </div>
                        <div class="col-md-10">
                            <input class="form-control" type="text" id="MEcampo4">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-1">
                            <label for="5">5)</label>
                        </div>
                        <div class="col-md-10">
                            <input class="form-control" type="text" id="MEcampo5">
                        </div>
                    </div>
                </div>
            </div>
            <br />
            <div class="form-row">
                <div class="col-md-3 offset-1">
                    <button witdh="50" title="Remover Alternativa" class="btn-default" onclick="RemoveLinha()"> - </button>
                    <button witdh="50" title="Adicionar Alternativa" class="btn-default" onclick="AddLinha()"> + </button>
                </div>
            </div>
            <br />
            <div id="DivAlternativas">
                <script type="text/javascript">
                    //Escrevendo o código-fonte HTML e ocultando os campos criados:
                    for (iLoop = 1; iLoop <= totalCampos; iLoop++) {
                        document.write("<div class='' id='MEAlternativas" + iLoop + "' style='display:none'><input type='checkbox' id='Alternativas" + iLoop +
                            "' name='MEchbx' /> <span id='Alternativas' > " + iLoop + ") <input class='col-md-6' type='text' id='MECampo" + iLoop + "' name='Alternativas" + iLoop +
                            "'> <input type='button' value='Remover' onclick='RemoverCampos(\"" + iLoop + "\",\"ME\")'></span></div>");
                    }
                </script>
                <br />
                <input type="button" value="Adicionar campos" onclick="AddCampos('ME')">
                <input type="text" name="hidden1" id="hidden1" hidden>
                <input type="hidden" name="hidden2" id="hidden2">
            </div>
            <br />
            <div class="form-row">
                <div class="col-md-3 offset-1">
                    <button witdh="50" title="Remover Alternativa" class="btn-default" onclick="RemoveLinha()"> - </button>
                    <button witdh="50" title="Adicionar Alternativa" class="btn-default" onclick="AddLinha()"> + </button>
                </div>
            </div>
            <br />
            <div class="form-row">
                <button witdh="50" title="Salvar" class="btn btn-primary btn-sm" onclick="SalvarME()">Salvar</button>
            </div>
        </form>
    </div>


    <div id="divVF" class="tab-pane fade">
        <h5>Tipo: Verdadeiro ou Falso</h5>
        <br />
        <form class="form-horizontal" name="form1" id="formCadVF" method="post" action="@Url.Action("CadastrarVF", "CadastrarQuestoes")">
            <div class="form-row">
                <div class="col-md-4">
                    <label for="AssuntoVF">Assunto</label>
                    <input type="text" class="form-control" id="AssuntoVF">
                </div>
                <div class="col-md-4">
                    <label for="Disciplinas">Disciplinas</label>
                    @Html.DropDownList("DisciplinaId", new SelectList(ViewBag.Disciplinas, "DisciplinaId", "Nome"), htmlAttributes: new { @class = "form-control" })
                </div>
            </div>
            <br />
            <div class="form-row">
                <div class="col-md-8">
                    <label for="EnunciadoVF">Enunciado</label>
                    <textarea class="form-control" id="EnunciadoVF"></textarea>
                </div>
            </div>
            <br />
            <div class="form-row">
                <div class="col-md-8">
                    <div class="row">
                        <div class="col-md-1">
                            <label for="I">I)</label>
                        </div>
                        <div class="col-md-10">
                            <input class="form-control" type="text" id="VFcampoI">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-1">
                            <label for="II">II)</label>
                        </div>
                        <div class="col-md-10">
                            <input class="form-control" type="text" id="VFcampoII">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-1">
                            <label for="III">III)</label>
                        </div>
                        <div class="col-md-10">
                            <input class="form-control" type="text" id="VFcampoIII">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-1">
                            <label for="IV">IV)</label>
                        </div>
                        <div class="col-md-10">
                            <input class="form-control" type="text" id="VFcampoIV">
                        </div>
                    </div>

                </div>
            </div>
            <br />
            <div class="form-row">
                <div class="col-md-3 offset-1">
                    <button witdh="50" title="Remover Alternativa" class="btn-default" onclick="RemoveLinha()"> - </button>
                    <button witdh="50" title="Adicionar Alternativa" class="btn-default" onclick="AddLinha()"> + </button>
                </div>
            </div>
            <br />
            <div id="DivAlternativas">
                <script type="text/javascript">
                    //Escrevendo o código-fonte HTML e ocultando os campos criados:
                    for (iLoop = 1; iLoop <= totalCampos; iLoop++) {
                        document.write("<div class='' id='VFAlternativas" + iLoop + "' style='display:none'><input type='radio' id='Alternativas" + iLoop +
                            "' name='VFradio' /> <span id='Alternativas' > " + iLoop + ") <input class='col-md-6' type='text' id='VFCampo" + iLoop + "' name='Alternativas" + iLoop +
                            "'> <input type='button' value='Remover' onclick='RemoverCampos(\"" + iLoop + "\",\"VF\")'></span></div>");
                    }
                </script>
                <br />
                <input type="button" value="Adicionar campos" onclick="AddCampos('VF')">
                <input type="text" name="hidden1" id="hidden1" hidden>
                <input type="hidden" name="hidden2" id="hidden2">
            </div>
            <br />
            <div class="form-row">
                <div class="col-md-3 offset-1">
                    <button witdh="50" title="Remover Alternativa" class="btn-default" onclick="RemoveLinha()"> - </button>
                    <button witdh="50" title="Adicionar Alternativa" class="btn-default" onclick="AddLinha()"> + </button>
                </div>
            </div>
            <br />
            <div class="form-row">
                <button witdh="50" title="Salvar" class="btn btn-primary btn-sm" onclick="SalvarVF()">Salvar</button>
            </div>
        </form>
    </div>

    <script src="ckeditor/ckeditor.js"></script>
    <div id="divDT" class="tab-pane fade">
        <h5>Tipo: Dissertativa</h5>
        <br />
        <form class="form-horizontal" name="form1" id="formCadVF" method="post" action="@Url.Action("CadastrarVF", "CadastrarQuestoes")">
            <div class="form-row">
                <div class="col-md-4">
                    <label for="AssuntoDT">Assunto</label>
                    <input type="text" class="form-control" id="AssuntoDT">
                </div>
                <div class="col-md-4">
                    <label for="Disciplinas">Disciplinas</label>
                    @Html.DropDownList("DisciplinaId", new SelectList(ViewBag.Disciplinas, "DisciplinaId", "Nome"), htmlAttributes: new { @class = "form-control" })
                </div>
            </div>
            <br />
            <div class="form-row">
                <div class="col-md-8">
                    <label for="EnuncuadoDT">Enunciado</label>
                    <textarea class="form-control" id="EnuncuadoDT"></textarea>

                    @using (Html.BeginForm("Index", "Home", FormMethod.Post))
                    {
                        @*<label for="EnuncuadoDT">Enunciado</label>
                            @Html.TextAreaFor(m => m.Enunciado, new { @class = "form-control" })
                            @Html.ValidationMessageFor(m => m.Enunciado, "", new { @class = "error" })*@
                        <br /><br />
                        @*<span>@Html.Raw(Model.Enunciado)</span>*@
                    }
                    @Scripts.Render("~/bundles/jquery")
                    <script type="text/javascript" src="//tinymce.cachefly.net/4.0/tinymce.min.js"></script>
                    <script type="text/javascript">
                        tinymce.init({ selector: 'textarea', width: 500 });
                    </script>

                </div>
            </div>
            <div class="form-row">
                <div class="col-md-8">
                    <label for="RespostaDT">Resposta correta</label>
                    <textarea class="form-control" id="RespostaDT"></textarea>
                </div>
            </div>
            <br />
            <div class="form-row">
                <div class="col-md-2">
                    <button witdh="50" title="Salvar" class="btn btn-primary btn-sm btn-diss" onclick="SalvarDT()">Salvar</button>
                </div>
            </div>
        </form>
    </div>
</div>

<script>

    function SalvarSE() {

    }

    function SalvarME() {

    }

    function SalvarVF() {

    }

    function SalvarDT() {

    }

</script>