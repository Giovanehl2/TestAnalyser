
@{
    ViewBag.Title = "ConsultarProvaPr";
}

<h2>Consultar Provas</h2>
<br />
<div class="container">
    <div class="row">
        <div class="col-md-12">

            <form action="#">
                <div class="form-row">

                    <div class="col-md-1">
                        <div class="row">
                            <div class="col">
                                <label for="AssuntoSE">Pend</label>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col">
                                <input type="checkbox" id="chbxPendentes" name="Pendentes" value="" />
                            </div>
                        </div>
                    </div>

                    <div class="col-md-2">
                        <div class="row">
                            <div class="col">
                                <label for="AssuntoSE">Data da prova</label>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col">
                                <input class="form-control" type="date" name="DataProva" value="" id="DataProva" />
                            </div>
                        </div>
                    </div>

                    <div class="col-md-2">
                        <div class="row">
                            <div class="col">
                                <label for="AssuntoSE">Disciplina</label>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col">
                                <select class="form-control" id="Disciplina" name="Disciplina">
                                    <option>Selecionar</option>
                                    <option>Seila1</option>
                                    <option>Seila2</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-2">
                        <div class="row">
                            <div class="col">
                                <label for="AssuntoSE">Turma</label>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col">
                                <select class="form-control" id="Turma" name="Turma">
                                    <option>Selecionar</option>
                                    <option>Turma1</option>
                                    <option>Turma2</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="row">
                            <div class="col">
                                <label for="AssuntoSE">Prova</label>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col">
                                <select class="form-control" id="Prova" name="Prova">
                                    <option>Selecionar</option>
                                    <option>Prova1</option>
                                    <option>Prova2</option>
                                </select>
                            </div>
                            <div class="col">
                                <button id="btnConsult" witdh="50" title="Consultar" class="btn btn-default btn-sm btn-toggle" @*onclick="ConsultarProvasPend()"*@>Consultar</button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <br />
    <br />
    <div class="row">
        <h3>Provas</h3>
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Data</th>
                    <th scope="col">Disciplina</th>
                    <th scope="col">Turma</th>
                    <th scope="col">Assunto</th>
                    <th>Ações</th>

                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>21/02/2020</td>
                    <td>Gestão de T.I</td>
                    <td>3° A</td>
                    <td>Gerenciamento de riscos</td>
                    <td>
                        <div id="divGridConsultaPr1">
                            <button witdh="50" title="Visualizar" class="btn btn-primary btn-sm" onclick="VisualisarTodasAsProvas()"> Visualizar</button>
                            <button witdh="50" title="Corrigir" class="btn btn-primary btn-sm" onclick="CorrigirProvaAlunoEspecifico()">Corrigir</button>
                        </div>
                        <div id="divGridConsultaProvaPend1" style="display:none">
                            <button witdh="50" title="Editar" class="btn btn-primary btn-sm" onclick="EditarProva()">Editar</button>
                            <button witdh="50" title="Excluir" class="btn btn-primary btn-sm" onclick="ExcluirProvaModal()">Excluir</button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>04/03/2020</td>
                    <td>Sistemas operacionais</td>
                    <td>2° C</td>
                    <td>Segurança</td>
                    <td>
                        <div id="divGridConsultaPr2">
                            <button witdh="50" title="Visualizar" class="btn btn-primary btn-sm" onclick="VisualisarTodasAsProvas()"> Visualizar</button>
                            <button witdh="50" title="Corrigir" class="btn btn-primary btn-sm" onclick="CorrigirProvaAlunoEspecifico()">Corrigir</button>
                        </div>
                        <div id="divGridConsultaProvaPend2" style="display:none">
                            <button witdh="50" title="Editar" class="btn btn-primary btn-sm" onclick="EditarProva()">Editar</button>
                            <button witdh="50" title="Excluir" class="btn btn-primary btn-sm" onclick="ExcluirProvaModal()">Excluir</button>
                        </div>
                    </td>


                </tr>
            </tbody>

        </table>


    </div>
</div>

<br />


@* Modal para confirmar exclusão *@
<div class="modal fade" id="ExcluirProva">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Excluir:</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>Você realmente deseja excluir essa prova?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" onclick="ExcluirProva()">Sim</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Voltar</button>
            </div>
        </div>
    </div>
</div>

<script>
    function ExcluirProvaModal() {
        $('#ExcluirProva').modal('show');
    }

    function VisualisarTodasAsProvas() {
        location.href = "https://localhost:44310/ConsultarProvaPr/VisualizarTodasAsProvas";
    }

    function ExcluirProva() {
        console.log("Prova deletada...");
        $('#ExcluirProva').modal('hide');
    }

    function EditarProva() {
        location.href = "https://localhost:44310/GerarProva/GerarProva";
    }

    function CorrigirProvaAlunoEspecifico() {
        location.href = "https://localhost:44310/ConsultarProvaPr/CorrigirProva";
    }

    var div1 = document.getElementById('divGridConsultaPr1'),
        div2 = document.getElementById('divGridConsultaPr2');
        div3 = document.getElementById('divGridConsultaProvaPend1');
        div4 = document.getElementById('divGridConsultaProvaPend2');
    function switchVisible() {
        if (!div1) return;
        if (getComputedStyle(div1).display == 'block') {
            div1.style.display = 'none';
            div2.style.display = 'none';
            div3.style.display = 'block';
            div4.style.display = 'block';
        } else {
            div1.style.display = 'block';
            div2.style.display = 'block';
            div3.style.display = 'none';
            div4.style.display = 'none';
        }
    }
    document.getElementById('btnConsult').addEventListener('click', switchVisible);

</script>